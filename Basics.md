# 云计算概论

## 起源 

### 发展脉络：`集中式`到`并行化`到`分布式`到`云计算`

#### 集中式计算：把一台计算机做的足够强大！

将所有计算资源集中在一个物理系统之内。

所有资源（处理器、内存、存储器）是共享的，并且紧耦合在一个集成式操作系统中。

> 比如说各类大型机和超算

#### 并行计算：同一时间执行多个计算

所有处理器紧耦合于中心共享内存或松耦合于分布式内存。

处理器通信通过共享内存或通过消息传递完成。

> 比如说并行计算机，并行编程

#### 分布式计算：人多力量大，机多计算强

由众多自治计算机组成，各自拥有私有内存，通过计算机网络通信。

信息交换通过消息传递完成。

> 比如说分布式系统，分布式程序，分布式编程
>
> 背景是小型计算机的出现

**计算机集群**：计算抽象

将多个可信、静态的独立节点连接起来协作完成计算

- 基本组件为计算节点、通信软件、网络接口卡

- 集群应该合并多个系统镜像到一个单系统镜像，然而并没有

- 依靠中间件实现单系统镜像的支持

- 以单独计算机身份接入互联网

**P2P** **网络**：存储抽象

每一个节点既是客户端也是服务器，提供部分系统资源

- 节点是简单接入互联网的客户机，自治、自由加入和退出

- 无中心协作或中心数据库；没有专用的物理互联网络

**计算网格**：接近“云”

将多个异构计算机动态、紧耦合地整合在一起完成计算任务

- 计算资源整合，一个集成的资源池，提供基础设施；类比电力网格

- 节点包括：工作站、服务器、集群、超级计算机

- 计算和数据网格、P2P网格

- 太异构、用户管理、耗资源的协议、安全性、应用受限

### 时代背景

大数据时代（2008）

![image-20210924111120703](Basics.assets/image-20210924111120703.png)

- ==3V==： Volume(量大), Variety(多样), Velocity(快速), 

- ==4V+1C==：Value(低价值密度), Complexity(复杂：处理和分析难度大)

- ==5V==：Volume, Variety, Velocity, Value, Veracity(真实)

**一切皆为** **(** **`wéi`** **)** **大数据，一切皆为** **(** **`wèi`** **)** **大数据。**

![image-20210924111315108](Basics.assets/image-20210924111315108.png)

## 概述

### 定义和概念模型

#### 基本想法

一种完美的分布式计算解决方案——对网格的优化

- 大量计算节点，==同构==可控

- ==专用内部网络==

- 通过互联网对外服务（公有云）

- 全面虚拟化：计算、存储、网络、桌面

- 集中管理：安全、高效

#### 定义

##### 维基百科

云计算是一种基于互联网的计算方式，通过这种方式，共享的软硬件资源和信息可以按需求提供给计算机各种终端和其他设备。                    

##### NIST（美国国家标准与技术研究院）

云计算是一种模型，可以实现随时随地、便捷地、按需地从可配置计算资源共享池中获取所需要的资源（例如，网络、服务器、存储、应用程序及服务），资源可以快速供给和释放，使管理的工作量和服务提供者的介入降低至最少。    

##### Gartner

云计算是一种计算方式，能通过Internet技术将可扩展的和弹性的IT能力作为服务交付给外部用户。                        

##### 刘鹏教授（云计算专家）

（长）云计算是一种商业计算模型。它将计算任务分布在大量计算机构成的资源池上，使各种应用系统能够根据需要获取计算力、存储空间和信息服务。

（短）云计算是通过网络按需提供可动态伸缩的廉价计算服务。

#### 概念模型

![image-20210924110619624](Basics.assets/image-20210924110619624.png)

#### 现实故事

|          AWS（Amazon）          |       GCP（Google）        |
| :-----------------------------: | :------------------------: |
|      让计算像水电一样好用       |        小鱼群吃大鱼        |
|              服务               |            性能            |
|              商业               |            技术            |
| 2006年3月，Computing Cloud，EC2 | 2006年8月，Cloud Computing |

![image-20210924114900657](Basics.assets/image-20210924114900657.png)

### 为何称“云”？

- 大

- 规模动态伸缩

- 边界是模糊的

- 飘忽不定，无法也无需确定具体位置 

### 特点

- 超大规模——==需求==

- 虚拟化——==技术==

- 按需服务——==商业模式==

- 通用——`得益于技术和模式`

- 高可伸缩——`得益于技术和模式`

- 极其廉价——`得益于技术和模式`

- 高可靠——==要求==

### 服务模型

#### 三种基本服务模型

![image-20210924112233030](Basics.assets/image-20210924112233030.png)

> `aaS`的例子还有很多，毕竟可以构词。但最基础的就上面三种。下图更好地呈现了三种`aaS`之间的关系，并引入了一个`DaaS`：Data as a Service

![image-20210924112144094](Basics.assets/image-20210924112144094.png)

> 下图则从用户视角对比三种服务模型。

![image-20210924113120032](Basics.assets/image-20210924113120032.png)

#### IaaS

- 通过虚拟机方式对外提供计算和存储能力

- 机器享有公网IP，多个虚拟机之间通过网络进行通信

- 类似租用独立的计算机

- 用户自行解决多台机器之间的协同问题

##### 优势

- 允许用户动态申请和释放资源

- 按使用量计费

- 更高的资源使用效率（节能环保）

> 比如说各类云服务器

#### PaaS

- 提供用户应用程序的运行环境

- PaaS自身负责资源的动态扩展和容错管理

- 用户无需考虑节点间的配合问题

- 用户自主权降低，需按照给定的编程环境和编程模型构建应用

类似MPI (Message Passing Interface)编程，只适用于解决模型特定的计算问题

> 比如说Google App Engine

#### SaaS

针对性更强，只提供某些专门用途的服务供应用调用。

> 日常接触到的互联网软件很多都可以算是SaaS

### 实现机制

#### SOA (Service-oriented Architecture) 面向服务的体系结构

将Service（服务）作为**分布式对象**（RMI，RPC，CORBA？）

设计一套使用服务的软件系统，使得服务间的互操作性变得可扩展和有效的

特点：松耦合，定义并发布接口，基于标准的通信模型（如REST）

![image-20210924113302549](Basics.assets/image-20210924113302549.png)

![image-20210924113321833](Basics.assets/image-20210924113321833.png)

==管理中间件层==和==资源池层==是云计算技术的最关键部分，SOA构建层的功能更多依靠外部设施提供。

![image-20210924114131799](Basics.assets/image-20210924114131799.png)

### 部署模型

> 根据NIST分类模型

#### 公有云

由第三方云提供者拥有的可公共访问的云环境

#### 社区云

类似于公有云，但访问被限定为特定的云用户社区

#### 私有云

由一家组织单独拥有，利用云计算技术来访问组织内部的IT资源

#### 混合云

由两种或者更多不同云部署模型组成的云环境

### 优势

#### 经济性

全球企业IT开销发展趋势：能耗接近硬件成本；管理成本线性增长。

![image-20210924114552403](Basics.assets/image-20210924114552403.png)

#### 可拓展性与可伸缩性

组建超出想象的计算能力的集群并能快速完成

#### 虚拟化

模拟出符合用户需求的任何计算环境

#### 高可靠

多副本容错、计算节点同构可互换等措施

#### 管理简单

无需专职IT维护人员

#### 安全

专业的团队 + 严格的权限管理

### 技术难点

#### 物理资源层

数据中心安全控制

#### 资源池层

构建高度同构化的虚拟资源

#### 管理中间件层

- 高可用性的实现——`资源管理`
  $$
  集群可用性 = \frac {MTTF}{MTTF + MTTR}
  $$
  
  $MTTF：两个相邻故障之间系统平均正常运行时间$
  
  $MTTR：发生故障后修复及还原工作状态的平均时间$
  
- 容错的实现——`任务管理`

- 节能（负载均衡）——`任务管理`

- 云安全与隐私保护——`安全管理`

### 风险与挑战

#### 增加了安全漏洞

重叠的且被拓展的信任边界和不断增加的数据曝光

#### 降低了运营管理控制

云提供者可能不遵守它发布的云服务保证

云用户和云提供者之间较长的地理距离可能需要更多的网络跳数，会带来延迟波动和带宽受限

#### 云提供者之间有限的可移植性

由于缺乏行业标准，不同的云提供者提供的服务存在较大差异

#### 多地区法规和法律问题

资源物理所在区域相关的法律问题与潜在数据的获得与公开问题
